### 消息队列的作用

消息队列用于不同系统和服务间的通信，在目前的大型应用中都需要依赖消息队列构建更易于维护性能更高的系统，消息队列的主要作用包括：

- 解耦： 减少系统之间的依赖关系，例如直接将两个功能通过编码写在同一个服务中完成一个功能之后再执行第二功能的程序，或者使用RPC方式调用其他服务等待调用结果等，这些方案都将功能耦合在一起，使两个功能需要同时完成，不利用业务的扩展。
- 异步：异步能提高系统的响应速度，减少用户等待时间。
- 削峰限流：消息队列可以看做是一个任务队列，它能提供很大的容量，当系统流量过大时，将请求放入消息队列，以大量内存以及一定的延迟，保证系统的稳定性。

### 消息队列的缺点

- 消息队列会引入延迟

- 提高系统的复杂度: 使用MQ需要解决消息重复消费，消息丢失，消息有序性等问题。
- 事务一致性：通过消息队列链接的系统之间，可能会出现数据不一致，需要提供事务方案，
- 增加运维难度

### 消息队列选型

- RocketMQ：RokcetMQ吞吐量高，时延低，支持集群，功能丰富。使用Java语言开发，比较容易扩展和二次开发，适合在线系统。
- Kafka：Kafka吞吐量极高，延迟高，使用异步批量设计，适合实时性不高的离线业务。