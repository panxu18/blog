##### 内核态和用户态

1. 内核态和用户态是指CPU的两种状态
2. 特权等级：内核态特权等级为R0，用户态特权等级为R3。
3. 用户态切换到内核态：系统调用，中断，异常。
4. 内核态切换到用户态：设置成语状态字PSW。
5. 内存空间：内核访问所有内存空间，用户态只能访问优先内存空间。
6. 抢占：内核态执行时无法被抢占式调度，用户态可以被强占式调度。

##### 进程空间的内存布局

1. 内核态内存空间：
2. 用户态堆栈：局部变量以及函数调用中产生的临时变量。
3. mmap区域：文件映射(动态库)和匿名映射(malloc分配大内存)。
4. brk区域(堆区): 程序中动态申请内存的区域，例如小内存的malloc。
5. bss段：初始化为0或者null，存储未赋初始值的全区变量，例如`int sum`。
6. 数据段：存储程序中明确需要赋初始值的变量程序运行时数据， 例如`int val = 100`。
7. 代码段：存储程序指令，只读区域。