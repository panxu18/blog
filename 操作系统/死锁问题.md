##### 什么是死锁

**多个进程**在运行过程中因为**争夺资源**而造成的一种**僵局**，当进程出于这种僵持状态时，若无外作用，他们将**无法再向前推进**。

##### 必要条件

1. 互斥条件：进程要求对所分配的资源进行排它性控制。
2. 请求和保持条件：当进程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不可剥夺条件：进程已获得资源在未使用完之前不能剥夺，只能有进程自己释放。
4. 循环等待条件：在发生死锁时，必然存在一个环形等待。

##### 死锁预防

1. 破坏请求保持条件：一次性分配所有资源，只要有一个资源得不到，就不会给进程分配其他资源。
2. 破坏不可剥夺条件：当进程获得了部分资源，但得不到其他资源时释放已有资源，例如：超时放弃。
3. 破坏循环等待：系统给每一类资源编号，进程按编号递增顺序请求资源，释放则相反。

##### 检测死锁

1. 为进程和资源自定一个唯一的号码。
2. 建立资源分配表和进程等待表。

##### 死锁解除

1. 剥夺资源：从其他进程剥夺足够多数量的资源给死锁进程。
2. 撤销进程：可以直接撤销死锁进程直到有足够的资源可用。

 