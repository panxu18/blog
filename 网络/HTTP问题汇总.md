##### HTTP报文结构

1. 请求行（请求）：方法、URL、HTTP版本。
2. 状态行（响应）：HTTP版本、状态码。
3. 首部字段
   1. 通用首部：请求报文和响应报文都会使用的首部。
   2. 请求首部：包含请求附加内容、客户端信息、响应内容相关优先级等信息。
   3. 响应首部：包含响应附加内容，要求客户端附加额外信息。
   4. 实体首部：资源内容更新时间等和实体有关的信息。
4. 空行
5. 报文主体

##### 状态码

1. 1xx：请求正在处理。
2. 2xx：请求处理成功。
   1. 200 OK
   2. 204 no content 无数据
   3. 206 partial content 部分请求
3. 3xx：重定向
   1. 301 moved permanenly 请求资源永久重定向，客户端会同步更新URL。
   2. 302 found 资源临时重定向（POST重定向、POST重定向为GET）。
   3. 303 see other POST重定向为GET。
   4. 304 not modified 当客户端附带If-Modified-Since 和 If-None-Match访问资源时，服务端资源没有修改。
   5. 307 temporary redirect POST重定向。
   6. 

##### HTTPS请求过程

1. 请求服务端，服务端确认加密、hash算法，并返回数字证书。
2. 客户端校验证书，校验不通过结束。
3. 客户端生成随机秘钥R，使用服务端公钥加密后发送到服务端。
4. 服务端使用秘钥解密获取秘钥R，使用秘钥R加密网页内容并返回。
5. 客户端使用秘钥R解密获取网页内容。

##### 数字证书

1. 内容：签发者、服务端的域名、公钥、加密算法、hash算法、证书有效期，摘要：数字前面等。
2. 数字签名：将上面的内容生成摘要，然后用CA私钥加密，得到数字签名。
3. 验证：使用CA公钥解密数字签名得到摘要，使用同样的hash算法进行摘要，比较两次摘要是否一致。

##### 证书信任链

客户端唯一能信任的是根证书，通过根证书A校验证书B，证书B校验证书C，依次构成信任链。

1. 客户端得到服务端的证书，提取服务端证书的发布机构。
2. 查找服务端证书的发布机构，如果不是根证书就继续递归下去直到拿到根证书。
3. 使用根证书校验上一层证书的签名，再拿上一层证书校验更上一层的证书。
4. 最终可以验证服务端证书是否可信。