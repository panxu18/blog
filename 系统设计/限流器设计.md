##### 令牌桶和漏桶区别

1. 令牌桶以固定速率向桶中加入令牌，令牌被消费的速率不固定。
2. 漏桶以任意速率向桶中加入水滴，水滴以固定速率流出（请求放行）。
3. 令牌桶允许突发流量，漏桶固定速率。

##### 令牌桶实现原理

1. 延迟计算：当请求获取令牌时才生成令牌，最多不超过桶的容量。
2. 阻塞：没有获得令牌阻塞直到获得令牌，通过计算能获得令牌的时间进行阻塞。

##### 桶的大小设置

根据公式$L=\lambda w$,其中$\lambda$表示请求平均到达率，w表示响应时间。

##### 实现策略限流器，在任意连续一小时内访问API的次数不能超过5W次。