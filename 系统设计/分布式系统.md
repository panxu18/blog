##### CAP

1. 一致性：所有节点在同一时间的数据完全一致。

2. 可用性

3. 分区容错性：在遇到某节点或网络分区故障的时候，仍然能够对外提供满足一致性和可用性的服务。

4. CP：舍弃可用性。

5. AP：舍弃一致性。

##### 一致性hash

1. 一致性hash使用0-2^32-1个槽，将机器IP进行hash之后对2^32取模能将机器于某一个数对应起来。数据key也hash然后取模到一个值，如果没有机器对应这个值，就自增这个值直到找到一个值有机器。
2. 一致性hash使得服务器的增加删除只会影响到少量数据。
3. 如果服务器较少会产生数据倾斜，可以使用虚拟节点解决。